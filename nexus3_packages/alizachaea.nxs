{"type":"group","name":"alizachaea","enabled":true,"items":[{"type":"alias","name":"reload alizachaea","enabled":true,"actions":[{"type":"script","enabled":true,"script":"run_function(\"onInstall\", {}, \"eventStream3\");\n"}],"text":"^reload alizachaea$","matching":"regexp","whole_words":true,"case_sensitive":true,"prefix_suffix":true},{"type":"function","name":"esLoad","enabled":true,"code":"//  https://unpkg.com/alizachaea/alizachaea.js\nimport('https://unpkg.com/achaealiz/alizachaea.js')\n  .then((aliz) => {\n    nexusclient.aliz = aliz;\n    nexusclient.display_notice(\"Loaded alizachaea package.\");\n})\n  .catch((err) => {\n      nexusclient.display_notice(\"alizachaea error: \" + err.message);\n});"},{"type":"function","name":"onBlock","enabled":true,"code":"if (nexusclient.aliz == undefined) {\n  run_function(\"onInstall\", {}, \"eventStream3\");\n  nexusclient.aliz.onBlock(nexusclient.current_block);\n} else {\n  nexusclient.aliz.onBlock(nexusclient.current_block);\n}"},{"type":"function","name":"onGMCP","enabled":true,"code":"if(args.gmcp_method === \"Room.Players\") {\n  set_variable(\"qtyRoomPlayers\", args.gmcp_args.length);\n}"},{"type":"function","name":"onInstall","enabled":true,"code":"const np = nexusclient.packages();\nif (!np.exists('eventStream3')) {\n  fetch(`https://unpkg.com/nexevent/eventStream3.nxs`, { cache: \"no-store\" })\n    .then((r) => r.json())\n    .then((d) => {\n      const p = np.create('eventStream3', 'placeholder');\n      p.name = \"eventStream3\";\n      const i = np.exists('eventStream3');\n      np.move(i - 1, 1);\n      np\n        .get(\"eventStream3\")\n        .apply(d, nexusclient.reflexes());\n    });\n}"},{"type":"function","name":"onUninstall","enabled":true,"code":"// Place any code here you'd like to autorun when the package is uninstalled"},{"type":"group","name":"togglers","enabled":true,"items":[{"type":"alias","name":"auto-get-gold-toggle","enabled":true,"actions":[{"type":"script","enabled":true,"script":"let option = args[1];\nlet reflexArgs = { \"reflex_type\": \"group\", \"reflex_name\": \"auto-get-gold\", \"setpoint\": option }\n               \nrun_function(\"toggler\", reflexArgs, \"alizachaea\");"}],"text":"^\\s*autogetgold\\s*(on|off|n|f)\\s*$","matching":"regexp","whole_words":false,"case_sensitive":false,"prefix_suffix":true},{"type":"alias","name":"auto-follow-toggle","enabled":true,"actions":[{"type":"script","enabled":true,"script":"nexusclient.aliz.toggle(\"autoFollow\", args[1]);"}],"text":"^\\s*autofollow\\s*(on|off|n|f)\\s*$","matching":"regexp","whole_words":true,"case_sensitive":true,"prefix_suffix":true},{"type":"function","name":"toggler","enabled":true,"code":"let message = \"The \" + args.reflex_name + \" \" + args.reflex_type + \" is now \";\n\nlet setpoint = false;\nif (args.setpoint == \"on\" || args.setpoint == \"n\"){\n  setpoint = true;\n  message += \"on.\";\n} else if (args.setpoint == \"off\" || args.setpoint == \"f\") {\n  setpoint = false;\n  message += \"off.\";\n}\n\nlet reflex = reflex_find_by_name(args.reflex_type, args.reflex_name, true, false, \"alizachaea\");\n\nif (setpoint) {\n  reflex_enable(reflex);\n} else {\n  reflex_disable(reflex);\n}\n\ndisplay_notice(message);\n\n"},{"type":"alias","name":"auto-board-toggle","enabled":true,"actions":[{"type":"script","enabled":true,"script":"nexusclient.aliz.toggle(\"autoBoardShip\", args[1]);"}],"text":"^\\s*autoboard\\s*(on|off|n|f)\\s*$","matching":"regexp","whole_words":true,"case_sensitive":true,"prefix_suffix":true}]},{"type":"group","name":"auto-get-gold","enabled":true,"items":[{"type":"trigger","name":"auto-get-gold","enabled":true,"actions":[{"type":"script","enabled":true,"script":"let qtyRoomPlayers = get_variable(\"qtyRoomPlayers\");\n\nif (qtyRoomPlayers == 1) {\n   send_command(\"GET GOLD\", false);\n}\n"}],"text":"^.*There (?:is|are) .+ golden sovereigns? here.+$","matching":"regexp","whole_words":false,"case_sensitive":false},{"type":"trigger","name":"auto-get-gold","enabled":true,"actions":[{"type":"script","enabled":true,"script":"let qtyRoomPlayers = get_variable(\"qtyRoomPlayers\");\n\nif (qtyRoomPlayers == 1) {\n   send_command(\"GET GOLD\", false);\n}\n"}],"text":"^.*Twinkling and gleaming, a large pile of golden sovereigns rests here.+$","matching":"regexp","whole_words":false,"case_sensitive":false},{"type":"trigger","name":"auto-get-gold","enabled":true,"actions":[{"type":"script","enabled":true,"script":"let qtyRoomPlayers = get_variable(\"qtyRoomPlayers\");\n\nif (qtyRoomPlayers == 1) {\n   send_command(\"GET GOLD\", false);\n}\n"}],"text":"^.*A.+pile of golden sovereigns twinkles and gleams.+$","matching":"regexp","whole_words":false,"case_sensitive":false}]}],"description":"Reflexes made by Alizais"}